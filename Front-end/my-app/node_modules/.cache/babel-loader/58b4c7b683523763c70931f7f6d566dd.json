{"ast":null,"code":"import axios from 'axios';\n\nclass Authentication extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  loginUser(email, password) {\n    axios.post(\"https://europe-west1-smartbroeikas.cloudfunctions.net/api/login\", {\n      email,\n      password\n    }).then(result => {\n      if (result.status === 200) {\n        localStorage.setItem('jwt token', result.data); // this.setState({ logged_in: true });\n\n        this.props.history.push('/dashboard');\n        window.location.reload();\n        return 1;\n      }\n    }).catch(e => {\n      if (e === 'Error: Request failed with status code 401') {\n        alert('Email or password is incorrect');\n        return 0;\n      }\n\n      alert('Something went wrong...' + e);\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Git/SmartFarm/Front-end/my-app/src/services/authentication.service.js"],"names":["axios","Authentication","Component","constructor","props","loginUser","email","password","post","then","result","status","localStorage","setItem","data","history","push","window","location","reload","catch","e","alert"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,cAAN,SAA6BC,SAA7B,CAAuC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACD;;AAEDC,EAAAA,SAAS,CAAEC,KAAF,EAASC,QAAT,EAAoB;AACzBP,IAAAA,KAAK,CAACQ,IAAN,CAAW,iEAAX,EAA8E;AAC1EF,MAAAA,KAD0E;AAE1EC,MAAAA;AAF0E,KAA9E,EAICE,IAJD,CAIMC,MAAM,IAAI;AACZ,UAAIA,MAAM,CAACC,MAAP,KAAkB,GAAtB,EAA2B;AACvBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCH,MAAM,CAACI,IAAzC,EADuB,CAEvB;;AACA,aAAKV,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA,eAAO,CAAP;AACH;AACJ,KAZD,EAYGC,KAZH,CAYSC,CAAC,IAAI;AACV,UAAGA,CAAC,KAAK,4CAAT,EAAsD;AACtDC,QAAAA,KAAK,CAAC,gCAAD,CAAL;AACA,eAAO,CAAP;AACC;;AACDA,MAAAA,KAAK,CAAE,4BAA4BD,CAA9B,CAAL;AACH,KAlBD;AAmBH;;AAzBkC","sourcesContent":["import axios from 'axios';\r\n\r\n\r\nclass Authentication extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    \r\n    loginUser( email, password ) {\r\n        axios.post(\"https://europe-west1-smartbroeikas.cloudfunctions.net/api/login\", {\r\n            email,\r\n            password\r\n        })\r\n        .then(result => {\r\n            if (result.status === 200) {\r\n                localStorage.setItem('jwt token', result.data);\r\n                // this.setState({ logged_in: true });\r\n                this.props.history.push('/dashboard');\r\n                window.location.reload();\r\n                return 1;\r\n            }\r\n        }).catch(e => {\r\n            if(e === 'Error: Request failed with status code 401'){\r\n            alert('Email or password is incorrect');\r\n            return 0;\r\n            }\r\n            alert( 'Something went wrong...' + e );\r\n        });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}